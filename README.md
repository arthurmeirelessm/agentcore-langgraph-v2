<html><body><p>Validar que as credenciais AWS estão configuradas corretamente.</p><pre><code>aws sts get-caller-identity</code></pre><p>Criar o repositório no Amazon ECR.</p><pre><code>aws ecr create-repository --repository-name market-trends-agent --region us-east-1</code></pre><p>Autenticar o Docker no ECR para permitir push de imagens.</p><pre><code>aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 123456789012.dkr.ecr.us-east-1.amazonaws.com</code></pre><p>Criar e ativar um builder Docker multi-arch (necessário em máquinas x86).</p><pre><code>docker buildx create --name arm-builder --use</code></pre><p>Buildar a imagem Docker explicitamente para ARM64.</p><pre><code>docker buildx build --platform linux/arm64 -t market-trends-agent:latest --load .</code></pre><p>Taguear a imagem local com o URI do repositório ECR.</p><pre><code>docker tag market-trends-agent:latest 123456789012.dkr.ecr.us-east-1.amazonaws.com/market-trends-agent:latest</code></pre><p>Enviar a imagem para o Amazon ECR.</p><pre><code>docker push 123456789012.dkr.ecr.us-east-1.amazonaws.com/market-trends-agent:latest</code></pre><p>Validar que a imagem foi enviada com sucesso.</p><pre><code>aws ecr describe-images --repository-name market-trends-agent --region us-east-1</code></pre></body></html>
